<h3>Registros</h3>

<div class="row">
    <div class="col-sm-12">
        <h2>Movimiento de Pagos</h2>
    </div>
    <!-- panel previsualizacion -->
    <div class="col-sm-5">
        <h4>Agregar Pago:</h4>
        <form name="formPayment" class="panel panel-default">
            <div class="panel-body form-horizontal payment-form">
                <div class="form-group">
                    <label for="cliente" class="col-sm-3 control-label">Cliente</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" id="cliente" name="cliente" placeholder="codigo de cliente" ng-model="registro.cliente" required>
                    </div>
                </div>                            
                <div class="form-group">
                    <label for="concepto" class="col-sm-3 control-label">Concepto</label>
                    <div class="col-sm-9">
                        <select class="form-control" id="concepto" name="concepto" ng-model="registro.concepto" required>
                            <option>Venta</option>
                            <option>Alquiler</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="descripcion" class="col-sm-3 control-label">Descripcion</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" id="descripcion" name="descripcion" ng-model="registro.descripcion" required>
                    </div>
                </div> 
                <div class="form-group">
                    <label for="cantidad" class="col-sm-3 control-label">Cantidad</label>
                    <div class="col-sm-9">
                        <input type="number" min="1" class="form-control" id="cantidad" name="cantidad" ng-model="registro.cantidad" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="estado" class="col-sm-3 control-label">Estado</label>
                    <div class="col-sm-9">
                        <select class="form-control" id="estado" name="estado" ng-model="registro.estado" required>
                            <option>Pagado</option>
                            <option>Pendiente</option>
                        </select>
                    </div>
                </div> 
                <div class="form-group">
                    <label for="fecha" class="col-sm-3 control-label">Fecha</label>
                    <div class="col-sm-9">
                        <input type="date" class="form-control" id="fecha" name="fecha" ng-model="registro.fecha" required>
<!--                        <p class="help-block text-danger" ng-show="formPayment.fecha.$error.required"></p>-->
                    </div>
                </div>   
                <div class="form-group">
                    <div class="col-sm-12 text-right">
                        <button class="btn btn-success preview-add-button" id="btnAgregar" ng-click="agregarRegistro()" ng-disabled="formPayment.$invalid">
                            <span class="glyphicon glyphicon-plus"></span> Agregar
                        </button>
                    </div>
                </div>
            </div>
        </form>            
    </div> <!-- / panel preview -->
    <div class="col-sm-7">
        <h4 id="titulo">Pagos Realizados:</h4>
        <div class="row">
            <div class="col-xs-12">
                <div class="table-responsive">
                    <table class="table preview-table" id="tblPagos">
                        <thead>
                            <tr>
                                <th>Cliente</th>
                                <th>Concepto</th>
                                <th>Descripcion</th>
                                <th>Cantidad</th>
                                <th>Estado</th>
                                <th>Fecha</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="local in registroLocal">
                                <td>{{local.cliente}}</td>
                                <td>{{local.concepto}}</td>
                                <td>{{local.descripcion}}</td>
                                <td>{{local.cantidad}}</td>
                                <td>{{local.estado}}</td>
                                <td>{{local.fecha | date}}</td>
                            </tr>
                        </tbody> <!-- Los pagos realizados van aquÃ­-->
                    </table>
                </div>                            
            </div>
        </div>
        <div class="row text-right">
            <div class="col-xs-12">
                <h4>Numero de Ventas: <strong><span class="preview-total-ventas">{{cantidad}}</span></strong></h4>
                <h4>Total : <strong><span class="preview-total" >{{total | currency}}</span></strong></h4>
                <button class="btn btn-info" id="btnCalcular" ng-click="calcularTotalRegistos()">Calcular</button>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <hr style="border:1px dashed #dddddd;">
                <button type="button" class="btn btn-primary btn-block" ng-click="enviarRegistros()" ng-if="registroLocal != 0">Enviar y Finalizar</button>
            </div>                
        </div>
    </div>
</div>
